{"Name":"ArchivedGroupsViewIndex","Version":54002,"Collections":["FailedMessages"],"LockMode":0,"Priority":1,"State":0,"IndexDefinition":{"SourceType":"Documents","LockMode":null,"Priority":"Normal","State":"Normal","OutputReduceToCollection":null,"PatternForOutputReduceToCollectionReferences":null,"PatternReferencesCollectionName":null,"ReduceOutputIndex":null,"DeploymentMode":null,"Name":"ArchivedGroupsViewIndex","Reduce":"results.GroupBy(result => new {\r\n    Id = result.Id,\r\n    Title = result.Title,\r\n    Type = result.Type\r\n}).Select(g => new {\r\n    Id = g.Key.Id,\r\n    Title = g.Key.Title,\r\n    Count = Enumerable.Sum(g, x => ((int) x.Count)),\r\n    First = DynamicEnumerable.Min(g, x0 => ((DateTime) x0.First)),\r\n    Last = DynamicEnumerable.Max(g, x1 => ((DateTime) x1.Last)),\r\n    Type = g.Key.Type\r\n})","Type":"MapReduce","Maps":["docs.FailedMessages.Where(doc => doc.Status == 4).Select(doc => new {\r\n    doc = doc,\r\n    failureTimes = doc.ProcessingAttempts.Select(x => x.FailureDetails.TimeOfFailure)\r\n}).SelectMany(this0 => this0.doc.FailureGroups, (this0, failureGroup) => new {\r\n    Id = failureGroup.Id,\r\n    Title = failureGroup.Title,\r\n    Count = 1,\r\n    First = DynamicEnumerable.Min(this0.failureTimes),\r\n    Last = DynamicEnumerable.Max(this0.failureTimes),\r\n    Type = failureGroup.Type\r\n})"],"ClusterState":{"LastStateIndex":0},"Fields":{},"Configuration":{},"AdditionalSources":{},"AdditionalAssemblies":[]}}