{"Name":"MessagesViewIndex","Version":54002,"Collections":["FailedMessages"],"LockMode":0,"Priority":1,"State":0,"IndexDefinition":{"SourceType":"Documents","LockMode":null,"Priority":"Normal","State":"Normal","OutputReduceToCollection":null,"PatternForOutputReduceToCollectionReferences":null,"PatternReferencesCollectionName":null,"ReduceOutputIndex":null,"DeploymentMode":null,"Name":"MessagesViewIndex","Reduce":null,"Type":"Map","Maps":["docs.FailedMessages.Select(message => new {\r\n    message = message,\r\n    last = DynamicEnumerable.LastOrDefault(message.ProcessingAttempts)\r\n}).Select(this0 => new {\r\n    MessageId = this0.last.MessageId,\r\n    MessageType = ((string) this0.last.MessageMetadata[\"MessageType\"]),\r\n    IsSystemMessage = ((bool) this0.last.MessageMetadata[\"IsSystemMessage\"]),\r\n    Status = this0.message.Status == 4 ? 5 : (this0.message.Status == 2 ? 4 : (this0.message.ProcessingAttempts.Count == 1 ? 1 : 2)),\r\n    TimeSent = ((DateTime) this0.last.MessageMetadata[\"TimeSent\"]),\r\n    ProcessedAt = this0.last.AttemptedAt,\r\n    ReceivingEndpointName = ((this0.last.MessageMetadata[\"ReceivingEndpoint\"])).Name,\r\n    CriticalTime = ((TimeSpan ? ) this0.last.MessageMetadata[\"CriticalTime\"]),\r\n    ProcessingTime = ((TimeSpan ? ) this0.last.MessageMetadata[\"ProcessingTime\"]),\r\n    DeliveryTime = ((TimeSpan ? ) this0.last.MessageMetadata[\"DeliveryTime\"]),\r\n    Query = Enumerable.ToArray(DynamicEnumerable.Union(this0.last.MessageMetadata.ToDictionary(e1 => e1.Key, e1 => e1.Value).Select(_ => _.Value.ToString()), new string[] {\r\n        String.Join(\" \", this0.last.Headers.ToDictionary(e1 => e1.Key, e1 => e1.Value).Select(x => x.Value))\r\n    })),\r\n    ConversationId = ((string) this0.last.MessageMetadata[\"ConversationId\"])\r\n})"],"ClusterState":{"LastStateIndex":0},"Fields":{"Query":{"Analyzer":null,"Indexing":"Search","Spatial":null,"Storage":null,"Suggestions":null,"TermVector":null}},"Configuration":{},"AdditionalSources":{},"AdditionalAssemblies":[]}}